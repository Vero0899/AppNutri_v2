<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <img ngSrc="assets/img/mob3.jpg" alt="Logo" class="header-logo" height="239" width="225">
    </ion-buttons>
    <ion-buttons slot="end">
      <!-- Botón de Cerrar sesión -->
      <ion-button
        *ngIf="nombreUsuario"
        class="logout-button"
        [ngClass]="{'disabled-button': !nombreUsuario}"
        [disabled]="!nombreUsuario"
        (click)="confirmLogout()">
        Cerrar sesión
      </ion-button>
      <!-- Botón de Iniciar sesión -->
      <ion-button
        *ngIf="!nombreUsuario"
        class="login-button"
        (click)="navigateToLogin()">
        Iniciar sesión
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header>
    <ion-toolbar>
      <ion-title size="small">
        <span *ngIf="nombreUsuario">
          ¡¡Bienvenido/a {{ nombreUsuario }} !!
        </span>
        <span *ngIf="!nombreUsuario">
          ¡¡Bienvenido/a!!
        </span>
      </ion-title>
    </ion-toolbar>
  </ion-header>


  <ion-card class="institutional-card">
    <ion-grid>
      <ion-row>
        <ion-col size="3" class="logo-column">
          <img src="assets/img/mob3.jpg" alt="Logo" class="institutional-logo">
        </ion-col>
        <ion-col size="9" class="text-column">
          <h2 class="institutional-title">Nutrición en Consciencia</h2>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card>

  <ion-card class="welcome-card">
    <ion-card-header>
      <ion-card-title class="TituloWelcome">¡Bienvenido a Nutrición en Consciencia!</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      Nos alegra tenerte en nuestra comunidad. Nuestra app te ayuda a crear recetas saludables
      con los ingredientes que ya tienes en casa, haciendo tu alimentación fácil y placentera.
      ¡Estamos aquí para ayudarte en cada paso!
    </ion-card-content>
  </ion-card>

  <div class="animated-text">
    <p>Explora nuevas recetas y consejos de nutrición</p>
  </div>

  <div class="image-column">

    <ion-card (click)="openModal(
        'assets/img/emparedado.jpeg',
        'TLP Sandwich',
        '<h3>Ingredientes:</h3><ul><li>2 panes integrales</li><li>1 pechuga de pollo cocida</li><li>1 tomate en rodajas</li><li>Lechuga fresca</li><li>Mayonesa al gusto</li><li>Mostaza al gusto</li></ul><h3>Instrucciones:</h3><p>1. Cocina la pechuga de pollo hasta que esté dorada. Puedes usar un sartén o una plancha para hacerlo.</p><p>2. Tuesta ligeramente los panes integrales.</p><p>3. En un pan, coloca una capa de mayonesa y mostaza.</p><p>4. Agrega la pechuga de pollo, las rodajas de tomate y la lechuga.</p><p>5. Coloca el otro pan encima y sirve como sandwich.</p><p>¡Listo para disfrutar un desayuno delicioso y saludable!</p><h3>Valor nutricional (por porción):</h3><table style=\'width:100%; border: 1px solid #ddd; border-collapse: collapse;\'><tr><th style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 30px; padding-top: 10px; padding-bottom: 10px; text-align: left; width: 50%;\'>Nutriente</th><th style=\'border: 1px solid #ddd; padding-left: 30px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right; width: 50%;\'>Cantidad</th></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Kcal </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>425 kcal</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Proteínas </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>38.5g</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Carbohidratos </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>30.1g</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Grasas </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>16.6g</td></tr></table>'
        )">
      <div class="card-title">TLP Sandwich</div>
      <img src="assets/img/emparedado.jpeg" alt="Receta 1" class="animated-image">
    </ion-card>

    <ion-card (click)="openModal(
        'assets/img/pescado.jpeg',
        'Pescado al Jugo',
        '<h3>Ingredientes:</h3><ul><li>1 filete de pescado blanco (como tilapia, merluza o lenguado)</li><li>1 cebolla pequeña, picada</li><li>2 dientes de ajo, picados finamente</li><li>1 limón (jugo)</li><li>1 ramita de tomillo fresco</li><li>1 hoja de laurel</li><li>1 cucharadita de comino</li><li>Sal y pimienta al gusto</li><li>1 taza de caldo de pescado o agua</li><li>Aceite de oliva (opcional, para dorar)</li></ul><h3>Instrucciones:</h3><p>1. En una sartén grande, calienta un poco de aceite de oliva (si lo deseas) y añade la cebolla y el ajo. Cocina a fuego medio hasta que estén dorados y fragantes.</p><p>2. Agrega el filete de pescado a la sartén y cocínalo por ambos lados hasta que esté dorado. Si el filete es muy grueso, cubre con una tapa para que se cocine uniformemente.</p><p>3. Añade el caldo de pescado o agua, el jugo de limón, el tomillo, el laurel, el comino, la sal y la pimienta. Cocina a fuego lento durante 10-15 minutos o hasta que el pescado esté completamente cocido.</p><p>4. Sirve el pescado con un poco de la salsa por encima, acompañando con arroz o ensalada.</p><h3>Valor nutricional (por porción):</h3><table style=\'width:100%; border: 1px solid #ddd; border-collapse: collapse;\'><tr><th style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 30px; padding-top: 10px; padding-bottom: 10px; text-align: left; width: 50%;\'>Nutriente</th><th style=\'border: 1px solid #ddd; padding-left: 30px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right; width: 50%;\'>Cantidad</th></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Kcal </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>220 kcal</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Proteínas </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>30g</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Carbohidratos </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>5g</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Grasas </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>8g</td></tr></table>'
        )">
      <div class="card-title">Pescado al Jugo</div>
      <img src="assets/img/pescado.jpeg" alt="Receta 2" class="animated-image">
    </ion-card>

    <ion-card (click)="openModal(
        'assets/img/frutasavena.jpeg',
        'FrutiAvena',
        '<h3>Ingredientes:</h3><ul><li>1/2 taza de avena</li><li>1 taza de leche (puede ser de almendra, coco o la que prefieras)</li><li>1/2 plátano, en rodajas</li><li>1/4 taza de fresas, en rodajas</li><li>1/4 taza de arándanos (frescos o congelados)</li><li>1 cucharada de miel o edulcorante al gusto</li><li>1/2 cucharadita de canela en polvo (opcional)</li><li>1 cucharada de semillas de chía o nueces (opcional)</li></ul><h3>Instrucciones:</h3><p>1. En una cacerola pequeña, cocina la avena con la leche a fuego medio, removiendo ocasionalmente. Cocina durante unos 5-10 minutos hasta que la avena esté suave y haya absorbido la leche.</p><p>2. Mientras se cocina la avena, corta las frutas frescas y colócalas en un tazón grande.</p><p>3. Cuando la avena esté lista, agrégale la miel y la canela (si la usas), y mezcla bien.</p><p>4. Sirve la avena caliente en un tazón y cubre con las frutas frescas, las semillas de chía o nueces si lo deseas.</p><h3>Valor nutricional (por porción):</h3><table style=\'width:100%; border: 1px solid #ddd; border-collapse: collapse;\'><tr><th style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 30px; padding-top: 10px; padding-bottom: 10px; text-align: left; width: 50%;\'>Nutriente</th><th style=\'border: 1px solid #ddd; padding-left: 30px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right; width: 50%;\'>Cantidad</th></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Kcal </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>320 kcal</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Proteínas </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>8g</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Carbohidratos </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>52g</td></tr><tr><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 60px; padding-top: 10px; padding-bottom: 10px;\'>Grasas </td><td style=\'border: 1px solid #ddd; padding-left: 10px; padding-right: 10px; padding-top: 10px; padding-bottom: 10px; text-align: right;\'>6g</td></tr></table>'
        )">
      <div class="card-title">FrutiAvena</div>
      <img src="assets/img/frutasavena.jpeg" alt="Receta 3" class="animated-image">
    </ion-card>

  </div>

  <div class="button-container">
    <ion-button expand="full" class="purple-button" (click)="navigateToRecetaFav()">Receta Top #1 de la semana
    </ion-button>
  </div>


  <!-- Modal Trigger -->
  <ion-modal #modal [isOpen]="isModalOpen">
    <ng-template>
      <ion-header>
        <ion-toolbar>
          <ion-title class="modal-title">{{ modalTitle }}</ion-title> <!-- Título del Modal -->
          <ion-buttons slot="end">
            <ion-button (click)="closeModal()">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header>
      <ion-content class="ion-padding">
        <img [src]="modalImage" alt="Imagen de la receta" style="width: 100%;">
        <div [innerHTML]="modalContent"></div> <!-- Renderiza el contenido HTML -->
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>

<ion-footer>
  <ion-toolbar class="rounded-footer">
    <div class="footer-icons">
      <ion-button href="https://facebook.com" target="_blank" class="social-icon">
        <ion-icon name="logo-facebook"></ion-icon>
      </ion-button>
      <ion-button href="https://instagram.com" target="_blank" class="social-icon">
        <ion-icon name="logo-instagram"></ion-icon>
      </ion-button>
      <ion-button href="https://whatsapp.com" target="_blank" class="social-icon">
        <ion-icon name="logo-whatsapp"></ion-icon>
      </ion-button>
    </div>
  </ion-toolbar>
</ion-footer>